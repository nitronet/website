<?xml version="1.0" encoding="UTF-8"?>
<fwk id="TestApp" version="1.0-dev">
    <ini>:baseDir/config.ini</ini>
    
    <services xml=":baseDir/services.xml" />
    
    <listener class="Fwk\Core\Components\ErrorReporterListener" />
    <listener class="Fwk\Core\Components\RequestMatcher\RequestMatcherListener">
        <param>:requestMatcherService</param>
    </listener>
    <listener class="Fwk\Core\Components\ResultType\ResultTypeListener">
        <param>:resultTypeService</param>
    </listener>
    <listener class="Fwk\Core\Components\ViewHelper\ViewHelperListener">
        <param>:viewHelperService</param>
    </listener>
    <listener class="Fwk\Core\Components\UrlRewriter\UrlRewriterListener">
        <param>:urlRewriterService</param>
    </listener>
    <listener class="Fwk\Core\Components\SessionListener">
        <param>:sessionService</param>
    </listener>
    
    <result-types>
        <result-type
            name="php"
            class="Fwk\Core\Components\ResultType\PhpTemplateResultType">
            <param name="templatesDir">:packageDir/FwkWWW/templates/php</param>
        </result-type>
        <result-type
            name="json"
            class="Fwk\Core\Components\ResultType\JsonResultType"
        />
        <result-type
            name="chain"
            class="Fwk\Core\Components\ResultType\ChainResultType"
        />
        <result-type
            name="redirect"
            class="Fwk\Core\Components\ResultType\RedirectResultType">
            <param name="requestMatcher">:requestMatcherService</param>
            <param name="urlRewriter">:urlRewriterService</param>
        </result-type>
        <result-type name="twig" class="FwkTwig\TwigResultType">
            <param name="twigService">twig</param>
        </result-type>
    </result-types>
    
    <actions>
        <action name="Home" shortcut="FwkWWW\Controllers\Home:show">
            <result name="success" type="twig">
                <param name="file">home.twig</param>
            </result>
        </action>
        <action name="Asset" shortcut="FwkAssetic\Controllers\AssetAction:show" />
        <action name="PageView" shortcut="FwkWWW\Controllers\PageView:show" />
    </actions>
    
    <url-rewrite>
        <url route="/" action="Home" />
        <url route="/asset/:asset" action="Asset">
            <param name="asset" regex=".*" />
        </url>
        <url route="/page/:page" action="PageView">
            <param name="page" regex=".*" required="true" />
        </url>
    </url-rewrite>
</fwk>